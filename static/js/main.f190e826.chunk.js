(this["webpackJsonpsolid-movies"]=this["webpackJsonpsolid-movies"]||[]).push([[0],{392:function(e,t,n){},394:function(e,t,n){},468:function(e,t){},524:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(22),c=n.n(r),i=(n(392),n(35)),s=n(4),o=n.n(s),l=n(9),d=n(12),u=(n(394),n(53)),j=n(162),h=n(174),b=n(19),f=n(70),m=n(550),p=n(25),O=n(27),x=n(561),g=n(558),v=n(160),y=n.n(v),w=n(16),k=n(57),T=n(24),S=n(130),C=n(135),E={id:{predicate:C.FOAF.openid,parse:S.getStringNoLocale,set:S.setStringNoLocale},rating:{predicate:C.VCARD.value,parse:k.getAndParse,set:k.stringifyAndSet},tags:{predicate:C.VCARD.Other,parse:k.getAndParse,set:k.stringifyAndSet}},D="9c3bca4",I={light:"#1c0038",dark:"#fefeff",primary:"#10e7ef",secondary:"#c499f1"},R=Object(a.createContext)(I);function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e||!e.story||!e.character||!e.performance||!e.visuals||!e.soundtrack)return null;var n=(e.story+(e.character+e.performance)/2+(e.visuals+e.soundtrack)/2)/3;return Math.round(n*Math.pow(10,t))/Math.pow(10,t)}var N=function(e){return function(t,n){return A(t.rating)?A(n.rating)?(A(n.rating)-A(t.rating))*e:-1:1}},P=function(e){return function(t){return function(n,a){return isNaN(+n.data[e])?1:isNaN(+a.data[e])?-1:(+a.data[e]-+n.data[e])*t}}},L={story:["I'm staring at a blank screen","The story is nonsense","The story is not very relatable or meaningful","The story is confusing and I'm not sure what the point is","The story isn't important","The story is basic and serves as a setting for the characters","The story is interesting and challenges my expectations","The story is interesting and challenges the norm in meaningful ways","The story is interesting and full of meaningful exploration","The perfect story. Meaningful. Powerful, Timeless."],character:["I saw a dead bird in the parking lot and went home","The characters make no sense and served no purpose","The characters are not very relatable","The characters are inconsistent and their motives are confusing","The characters are somewhat predictable and bland","The characters are interesting and relatable","The characters are relatable and experience meaningful growth","The characters are well-realized, nuanced, and experience meaningful growth","The characters are enthralling. I want to know more about them.","I would watch a movie of these characters just talking to one another"],performance:["They just cast that dead bird from the parking lot","The performers clearly don't want to be in this movie","The performers don't portray the characters well","The performers are distracting","The performers are fine, I don't notice them much","Some/most of the performances are good","The performers have good chemistry and really bring the characters to life","Excellent performance, I have a hard time imagining a different cast","Perfectly cast with stand-out performances","Perfectly cast, delivering the performance of a lifetime"],visuals:["I think it's a radio drama actually...","The visuals make it hard to watch/follow","The visuals are constantly distracting","The visuals are fine, but some of the choices are distracting","There is nothing notable about the visuals","There are a couple scenes with striking visuals","The visuals are good and really enhance the story-telling","There are a lot of effective visuals with a lot of imagery","There are constantly powerful visuals with striking imagery","The visuals tell a story on their own"],soundtrack:["Oh, this is a talkie?","The soundtrack is apparently just the director's garbage playlist","The soundtrack is distracting and doesn't fit the scenes well","The soundtrack is mostly fine, but a little distracting","There is nothing notable about the soundtrack","The music/sounds in a couple scenes really enhance the impact","The soundtrack is good and enhance the story-telling","A lot of the songs are clearly intentionally chose to fit the scenes","Every song and sound is intentional and impactful","The soundtrack is used to tell a story of its own"]};function M(){return(M=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.omdbapi.com/?apikey=".concat(D,"&s=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.Search?a.Search:[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem(t))){e.next=5;break}n=JSON.parse(n),e.next=12;break;case 5:return e.next=7,fetch("https://www.omdbapi.com/?apikey=".concat(D,"&i=").concat(t));case 7:return n=e.sent,e.next=10,n.json();case 10:n=e.sent,localStorage.setItem(t,JSON.stringify(n));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W,B,U,Q,V,_,J,q,H=n(229),Y=n(551),G=n(6),K=function(e){return e.loading?Object(G.jsxs)(w.Column,{children:[Object(G.jsx)(w.Spacer,{height:"1em"}),Object(G.jsx)(H.a,{sx:{display:"flex",justifyContent:"center"},children:Object(G.jsx)(Y.a,{color:"secondary",size:"5em"})})]}):null},X=n(30),$=n(552),Z=n(555),ee=n(556),te=n(557),ne=n(564),ae=function(e){var t=e.rating,n=e.updateValue,a=e.helper;return Object(G.jsxs)(re,{children:[Object(G.jsxs)(ce,{children:[Object(G.jsx)(se,{children:"Story"}),Object(G.jsxs)(w.Row,{align:"center",children:[Object(G.jsx)(ne.a,{onChange:n("story"),value:t.story?t.story:5,step:1,marks:!0,min:1,max:10}),Object(G.jsx)(w.Spacer,{width:".5em"}),Object(G.jsx)(ie,{children:t.story?t.story:"-"})]}),a&&Object(G.jsx)(oe,{children:t.story?L.story[t.story-1]:""})]}),Object(G.jsxs)(ce,{children:[Object(G.jsx)(se,{children:"Character"}),Object(G.jsxs)(w.Row,{align:"center",children:[Object(G.jsx)(ne.a,{onChange:n("character"),value:t.character?t.character:5,step:1,marks:!0,min:1,max:10}),Object(G.jsx)(w.Spacer,{width:".5em"}),Object(G.jsx)(ie,{children:t.character?t.character:"-"})]}),a&&Object(G.jsx)(oe,{children:t.character?L.character[t.character-1]:""})]}),Object(G.jsxs)(ce,{children:[Object(G.jsx)(se,{children:"Performance"}),Object(G.jsxs)(w.Row,{align:"center",children:[Object(G.jsx)(ne.a,{onChange:n("performance"),value:t.performance?t.performance:5,step:1,marks:!0,min:1,max:10}),Object(G.jsx)(w.Spacer,{width:".5em"}),Object(G.jsx)(ie,{children:t.performance?t.performance:"-"})]}),a&&Object(G.jsx)(oe,{children:t.performance?L.performance[t.performance-1]:""})]}),Object(G.jsxs)(ce,{children:[Object(G.jsx)(se,{children:"Visuals"}),Object(G.jsxs)(w.Row,{align:"center",children:[Object(G.jsx)(ne.a,{onChange:n("visuals"),value:t.visuals?t.visuals:5,step:1,marks:!0,min:1,max:10}),Object(G.jsx)(w.Spacer,{width:".5em"}),Object(G.jsx)(ie,{children:t.visuals?t.visuals:"-"})]}),a&&Object(G.jsx)(oe,{children:t.visuals?L.visuals[t.visuals-1]:""})]}),Object(G.jsxs)(ce,{children:[Object(G.jsx)(se,{children:"Soundtrack"}),Object(G.jsxs)(w.Row,{align:"center",children:[Object(G.jsx)(ne.a,{onChange:n("soundtrack"),value:t.soundtrack?t.soundtrack:5,step:1,marks:!0,min:1,max:10}),Object(G.jsx)(w.Spacer,{width:".5em"}),Object(G.jsx)(ie,{children:t.soundtrack?t.soundtrack:"-"})]}),a&&Object(G.jsx)(oe,{children:t.soundtrack?L.soundtrack[t.soundtrack-1]:""})]})]})},re=T.default.div(W||(W=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ","EE;\n  width: 100%;\n  align-items: center;\n  padding-top: 1em;\n  box-shadow: 2px 2px 10px ","EE;\n"])),I.dark,I.primary),ce=T.default.div(B||(B=Object(p.a)(["\n  width: 90%;\n"]))),ie=T.default.h2(U||(U=Object(p.a)(["\n  width: 1em;\n"]))),se=T.default.h3(Q||(Q=Object(p.a)(["\n  margin: -.5em 0em -1.5em 0em;\n"]))),oe=T.default.p(V||(V=Object(p.a)(["\n  margin-top: -1.7em;\n  font-size: small;\n  padding-left: 1em;\n  opacity: .7;\n"]))),le=function(e){var t=e.movie,n=e.onUpdate,r=e.handleClose,c=e.onDelete,s=Object(a.useState)(!0),o=Object(d.a)(s,2),l=o[0],u=o[1];if(!t)return Object(G.jsx)(G.Fragment,{});var j=A(t.rating);return Object(G.jsxs)($.a,{open:!0,onClose:r,children:[Object(G.jsx)(Z.a,{children:t.data.Title}),Object(G.jsxs)(ee.a,{children:[Object(G.jsx)(w.Frame,{fit:"cover",width:"400px",style:{maxWidth:"100%"},children:Object(G.jsx)("img",{src:t.data.Poster,alt:"".concat(t.data.title," Poster")})}),Object(G.jsxs)(de,{children:[j&&Object(G.jsx)(ue,{children:j}),Object(G.jsx)(w.Spacer,{}),Object(G.jsx)(ae,{rating:t.rating,updateValue:function(e){return function(a,r){n(Object(i.a)(Object(i.a)({},t),{},{rating:Object(i.a)(Object(i.a)({},t.rating),{},Object(X.a)({},e,+r))}))}},helper:l})]})]}),Object(G.jsx)(te.a,{children:Object(G.jsxs)(w.Row,{children:[Object(G.jsx)(g.a,{color:"secondary",onClick:c(t),children:"Delete"}),Object(G.jsx)(w.Spacer,{}),Object(G.jsxs)(g.a,{onClick:function(){return u(!l)},children:[l?"Hide":"Show"," Explanation"]}),Object(G.jsx)(g.a,{variant:"contained",color:"secondary",href:"https://www.imdb.com/title/".concat(t.id),children:"More INfo"})]})})]})},de=T.default.div(_||(_=Object(p.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 90%;\n  height: 95%;\n  display: flex;\n  flex-direction: column;\n  "]))),ue=T.default.span(J||(J=Object(p.a)(["\n  font-size: 5em;\n  align-self: flex-end;\n  background: ",";\n  color: ",";\n  padding: .1em;\n  text-shadow: 1px 1px 5px ","70;\n  box-shadow: 2px 2px 10px ","DD;\n"])),I.primary,I.dark,I.light,I.light),je=n(559),he=n(560),be=n(563);var fe,me,pe,Oe,xe,ge,ve,ye,we,ke,Te,Se,Ce,Ee,De,Ie=function(e){var t=e.data,n=e.onSubmit,r=e.onDelete,c=e.showForm,i=e.toggleEdit,s=Object(a.useState)(""),o=Object(d.a)(s,2),l=o[0],j=o[1];return Object(G.jsxs)(u.Row,{wrap:"wrap",children:[t.map((function(e){return Object(G.jsx)(be.a,{onDelete:function(){return r(e)},color:"primary",label:e,size:"small",style:{marginBottom:".2em",marginLeft:".2em"}},e)})),c?Object(G.jsx)(Re,{children:Object(G.jsx)(je.a,{autoFocus:!0,color:"primary",fullWidth:!0,style:{opacity:.5},placeholder:"add tag...",value:l,onBlur:i,onChange:function(e){return j(e.target.value)},onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){"Enter"===e.key&&l&&(j(""),n(l))}})}):Object(G.jsx)(be.a,{className:"clickable",onClick:i,label:"add tag...",color:"secondary",size:"small",style:{marginBottom:".2em",marginLeft:".2em",color:I.dark}})]})},Re=T.default.div(q||(q=Object(p.a)(["\n  background: ","EE;\n  border-radius: .3em;\n  width: 90%;\n  padding: .2em;\n"])),I.dark),Ae=function(e){var t=e.movies,n=e.addTag,a=e.removeTag,r=e.focus,c=e.toggleFocus,i=e.openRating;return Object(G.jsx)(Ne,{children:t.map((function(e){return Object(G.jsx)(w.Column,{justify:"flex-start",align:"center",width:"100%",children:Object(G.jsxs)(w.Card,{className:"clickable",onClick:i(e),children:[Object(G.jsx)(w.Frame,{position:"absolute",fit:"cover",top:"0",left:"0",width:"100%",height:"20em",focusX:"center",focusY:"15%",children:Object(G.jsx)("img",{src:e.data.Poster,alt:"".concat(e.data.Title," Poster")})}),Object(G.jsx)(Le,{children:A(e.rating)?A(e.rating):Object(G.jsx)("span",{className:"material-icons",children:"star_half"})}),Object(G.jsx)(w.Column,{height:"9em",justify:"flex-end",children:Object(G.jsx)(Pe,{children:e.data.Title})}),Object(G.jsx)(w.Spacer,{height:"1em"}),Object(G.jsx)(Ie,{data:e.tags,onSubmit:n(e),onDelete:a(e),showForm:r===e.id,toggleEdit:c(e.id)})]})},e.id)}))})},Ne=T.default.div(fe||(fe=Object(p.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  width: 95%;\n  padding: 0em 1em;\n  * {\n    justify-self: center;\n  }\n"]))),Pe=T.default.h2(me||(me=Object(p.a)(["\n  margin: 0px;\n  padding: .1em;\n  background: ","CC;\n  color: ",";\n  border-radius: 2px;\n"])),I.primary,I.light),Le=T.default.span(pe||(pe=Object(p.a)(["\n  font-size: 2.5em;\n  align-self: flex-end;\n  background: ",";\n  color: ",";\n  padding: .1em;\n  text-shadow: 1px 1px 5px ","70;\n  box-shadow: 2px 2px 10px ","DD;\n  position: absolute;\n  top: -.1em;\n  right: .2em;\n  min-width: 50px;\n  text-align: center;\n  border-radius: 2px;\n"])),I.primary,I.dark,I.light,I.light),Me=function(e){var t=e.movies,n=e.addTag,r=e.removeTag,c=e.focus,i=e.toggleFocus,s=e.openRating,o=e.changeSort,l=Object(a.useState)("RATE"),u=Object(d.a)(l,2),j=u[0],h=u[1];function b(e){switch(h(e),e){case"RATE":o((function(){return N}));break;case"IMDB":o((function(){return P("imdbRating")}));break;case"META":o((function(){return P("Metascore")}))}}return Object(G.jsxs)(Fe,{children:[Object(G.jsxs)(ze,{style:{background:"none",height:"default"},children:[Object(G.jsx)("p",{}),Object(G.jsx)(g.a,{style:{justifyContent:"flex-start"},color:"primary",children:"Title"}),Object(G.jsx)(g.a,{style:{justifyContent:"flex-start"},color:"primary",children:"Tags"}),Object(G.jsx)(g.a,{variant:"RATE"===j?"contained":"text",onClick:function(){return b("RATE")},color:"primary",children:"Rating"}),Object(G.jsx)(g.a,{variant:"IMDB"===j?"contained":"text",onClick:function(){return b("IMDB")},color:"primary",children:"imdb"}),Object(G.jsx)(g.a,{variant:"META"===j?"contained":"text",onClick:function(){return b("META")},color:"primary",children:"Meta"})]}),function(){var e,a=1;return t.map((function(t,o){var l=A(t.rating);return e&&e!==l&&(a=o+1),e=l,Object(G.jsxs)(ze,{className:"clickable",onClick:s(t),children:[Object(G.jsx)(We,{children:a}),Object(G.jsxs)(w.Row,{align:"center",children:[Object(G.jsx)("img",{src:t.data.Poster,alt:"".concat(t.data.Title," Poster")}),Object(G.jsx)("h2",{children:t.data.Title})]}),Object(G.jsx)(Ie,{data:t.tags,onSubmit:n(t),onDelete:r(t),showForm:c===t.id,toggleEdit:i(t.id)}),Object(G.jsx)(Be,{style:{justifySelf:"center"},children:l||"??"}),Object(G.jsx)("p",{style:{justifySelf:"center"},children:t.data.imdbRating}),Object(G.jsx)("p",{style:{justifySelf:"center"},children:t.data.Metascore})]},t.id)}))}()]})},Fe=T.default.div(Oe||(Oe=Object(p.a)(["\n  display: grid;\n  width: 95%;\n  padding: .5em 1em;\n  row-gap: .5em;\n  "]))),ze=T.default.div(xe||(xe=Object(p.a)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: 2.5em 2fr 1.5fr 4em 4em 5em;\n  padding: 0em .5em;\n  background: ","EE;\n  border-radius: 5px;\n  & img {\n    height: 6em;\n    margin: .2em .5em;\n    box-shadow: 2px 2px 5px ","AA;\n  }\n  "])),I.dark,I.primary),We=T.default.h2(ge||(ge=Object(p.a)(["\n  text-align: center;\n  background: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: .3em .1em;\n  "])),I.secondary,I.dark),Be=T.default.h2(ve||(ve=Object(p.a)(["\n  text-align: center;\n  color: ",";\n  font-size: 2em;\n  text-shadow: 3px 3px 10px ","DD;\n"])),I.light,I.primary),Ue=["ALL","UNRATED","RATED"],Qe=function(e){var t=e.movies,n=e.onSelect,r=e.onUpdate,c=Object(a.useState)([]),s=Object(d.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(null),j=Object(d.a)(u,2),h=j[0],b=j[1],f=Object(a.useState)(0),m=Object(d.a)(f,2),p=m[0],x=m[1],v=Object(a.useState)(1),y=Object(d.a)(v,2),k=y[0],T=y[1],S=Object(a.useState)((function(){return N})),C=Object(d.a)(S,2),E=C[0],D=C[1],I=Object(a.useState)(!0),R=Object(d.a)(I,2),P=R[0],L=R[1],M=Object(a.useState)(""),F=Object(d.a)(M,2),z=F[0],W=F[1],B=Object(a.useState)(""),U=Object(d.a)(B,2),Q=U[0],V=U[1],_=Object(a.useState)(""),J=Object(d.a)(_,2),q=J[0],H=J[1],Y=Object(a.useState)(""),K=Object(d.a)(Y,2),X=K[0],$=K[1];function Z(e){return function(t){r(Object(i.a)(Object(i.a)({},e),{},{tags:[].concat(Object(O.a)(e.tags),[t])}))}}function ee(e){return function(t){var n=e.tags.indexOf(t);r(Object(i.a)(Object(i.a)({},e),{},{tags:[].concat(Object(O.a)(e.tags.slice(0,n)),Object(O.a)(e.tags.slice(n+1)))}))}}function te(e){return function(t){t.stopPropagation(),b(h===e?null:e)}}function ne(e){return function(t){t.stopPropagation(),n(e)}}return Object(a.useEffect)((function(){l(t.filter((function(e){return!p||1===p&&!A(e.rating)||2===p&&!!A(e.rating)})).filter((function(e){return!z||e.tags.findIndex((function(e){return e.toLowerCase().indexOf(z.toLowerCase())>=0}))>=0})).filter((function(e){return!Q||e.data.Genre.split(", ").findIndex((function(e){return e.toLowerCase().indexOf(Q.toLowerCase())>=0}))>=0})).filter((function(e){return!q||0===e.data.Year.indexOf(q)})).filter((function(e){return!X||0===e.data.Title.toLowerCase().indexOf(X.toLowerCase())})).sort(E(k)))}),[t,z,Q,q,p,X,E,k]),Object(G.jsxs)(w.Column,{align:"center",children:[Object(G.jsx)(w.Spacer,{height:"1em"}),Object(G.jsxs)(w.Row,{width:"90%",align:"center",children:[Object(G.jsx)(w.Spacer,{}),Object(G.jsx)(Ve,{children:Object(G.jsx)(je.a,{fullWidth:!0,placeholder:"find movie",onChange:function(e){return $(e.target.value)}})}),Object(G.jsx)(Ve,{children:Object(G.jsx)(je.a,{fullWidth:!0,placeholder:"filter by tag",onChange:function(e){return W(e.target.value)}})}),window.innerWidth>680&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Ve,{children:Object(G.jsx)(je.a,{fullWidth:!0,placeholder:"filter by genre",onChange:function(e){return V(e.target.value)}})}),Object(G.jsx)(Ve,{children:Object(G.jsx)(je.a,{fullWidth:!0,placeholder:"filter by year",onChange:function(e){return H(e.target.value)}})})]}),Object(G.jsx)(g.a,{variant:"outlined",color:"secondary",style:{margin:"0em .5em",width:100},onClick:function(){return x(p+1>=Ue.length?0:p+1)},children:Ue[p]}),window.innerWidth>=800&&Object(G.jsx)(he.a,{size:"small",color:"secondary",style:{margin:"0em .2em"},onClick:function(){return L(!P)},children:Object(G.jsx)("span",{className:"material-icons",children:P?"table_rows":"grid_view"})}),Object(G.jsx)(he.a,{size:"small",color:"secondary",style:{margin:"0em .2em"},onClick:function(){return T(-1*k)},children:Object(G.jsx)("span",{className:"material-icons",children:k>0?"arrow_downward":"arrow_upward"})})]}),P?Object(G.jsx)(Ae,{movies:o,addTag:Z,removeTag:ee,focus:h,toggleFocus:te,openRating:ne}):Object(G.jsx)(Me,{movies:o,addTag:Z,removeTag:ee,focus:h,toggleFocus:te,openRating:ne,changeSort:D})]})},Ve=T.default.div(ye||(ye=Object(p.a)(["\n      background: ","DD;\n      padding: .2em;\n      margin: 0em .3em;\n      border-radius: .3em;\n      width: 30%;\n      min-width: 100px;\n      max-width: 10em;\n      "])),I.dark),_e=function(e){var t=e.add,n=e.idList,r=Object(a.useState)([]),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(""),l=Object(d.a)(o,2),u=l[0],j=l[1],h=Object(a.useState)(null),b=Object(d.a)(h,2),f=b[0],m=b[1];return Object(a.useEffect)((function(){m(null),u?function(e){return M.apply(this,arguments)}(u).then(s):s([])}),[u]),Object(G.jsxs)(w.Column,{width:"100%",height:"none",align:"center",children:[Object(G.jsx)(w.Spacer,{height:".5em"}),Object(G.jsx)(Je,{children:Object(G.jsx)(je.a,{fullWidth:!0,variant:"outlined",onChange:function(e){var t=e.target;f&&clearTimeout(f),m(setTimeout((function(){return j(t.value)}),500))},InputProps:{endAdornment:f?Object(G.jsx)(H.a,{children:Object(G.jsx)(Y.a,{color:"primary"})}):Object(G.jsx)(w.Icon,{theme:I,className:"material-icons",children:"check"})},placeholder:"Search Movie..."})}),Object(G.jsxs)(w.Row,{wrap:"wrap",justify:"space-around",children:[u&&!i.length&&Object(G.jsx)(qe,{children:"No matching titles found..."}),i.map((function(e){return Object(G.jsxs)(w.Card,{children:[Object(G.jsxs)(w.Row,{children:["N/A"!==e.Poster?Object(G.jsx)(He,{width:"100em",src:e.Poster,alt:"".concat(e.Title,"-poster")}):Object(G.jsx)(Ye,{className:"material-icons",children:"theaters"}),Object(G.jsx)(w.Spacer,{width:"1em"}),Object(G.jsxs)(w.CardHeader,{children:[e.Title," (",e.Year,")"]})]}),Object(G.jsxs)(Ge,{children:[Object(G.jsx)(w.Spacer,{width:".3em"}),Object(G.jsxs)(g.a,{disabled:n.includes(e.imdbID),color:"primary",onClick:function(){return t(e.imdbID)},children:[Object(G.jsx)("span",{className:"material-icons",children:n.includes(e.imdbID)?"check":"add"}),"Add To my movies"]})]})]},e.imdbID)}))]})]})},Je=T.default.div(we||(we=Object(p.a)(["\n  background: ",";\n  border-radius: .3em;\n  width: 90%;\n  max-width: 30em;\n"])),I.dark),qe=T.default.p(ke||(ke=Object(p.a)(["\n  color: ",";\n  font-weight: bold;\n"])),I.secondary),He=T.default.img(Te||(Te=Object(p.a)(["\n  box-shadow: 2px 2px 10px ",";\n"])),I.primary),Ye=T.default.h1(Se||(Se=Object(p.a)(["\n  font-size: 7em;\n  text-shadow: 2px 2px 10px ",";\n"])),I.primary),Ge=T.default.div(Ce||(Ce=Object(p.a)(["\n  display: flex;\n  position: absolute;\n  bottom: .5em;\n  right: .5em;\n"]))),Ke=function(e){var t=e.user,n=Object(a.useContext)(k.SaveState),r=n.queue,c=n.updateQueue,s=n.saveFromQ,u=n.dataset,j=n.setDataset,b=Object(a.useContext)(R).mui,f=Object(a.useState)(!1),m=Object(d.a)(f,2),p=m[0],v=m[1],T=Object(a.useState)([]),S=Object(d.a)(T,2),C=S[0],D=S[1],A=Object(a.useState)(null),N=Object(d.a)(A,2),P=N[0],L=N[1];function M(){return(M=Object(l.a)(o.a.mark((function e(t){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],e.t0=o.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=14;break}if(a=e.t1.value,!(r=t[a]).data){e.next=8;break}return n=[].concat(Object(O.a)(n),[r]),e.abrupt("continue",2);case 8:return e.next=10,F(r.id);case 10:c=e.sent,n=[].concat(Object(O.a)(n),[Object(i.a)(Object(i.a)({},r),{},{data:c})]),e.next=2;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return z=Object(l.a)(o.a.mark((function e(t){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return n=e.sent,a={id:t,data:n,rating:{},tags:[]},e.next=6,Object(k.initThing)("movie",a,E);case 6:c=e.sent,r=c.dataset,a=c.thing,D([].concat(Object(O.a)(C),[Object(i.a)(Object(i.a)({},a),{},{data:n})])),j(r);case 11:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function W(e){return B.apply(this,arguments)}function B(){return B=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.deleteThing)(t.thing);case 2:n=e.sent,a=n.dataset,r=C.findIndex((function(e){return e.thing.url===t.thing.url})),D([].concat(Object(O.a)(C.slice(0,r)),Object(O.a)(C.slice(r+1)))),j(a),L(null);case 8:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function U(e,t){return function(n){var a=Object(k.setAttr)(n.thing,E[e],n[e]);n.thing=a,c(Object(k.addToUpdateQueue)(r,a));var i=C.findIndex((function(e){return e.id===n.id}));D([].concat(Object(O.a)(C.slice(0,i)),[n],Object(O.a)(C.slice(i+1)))),t&&t(n)}}return Object(a.useEffect)((function(){u&&(v(!0),function(e){return M.apply(this,arguments)}(Object(k.loadAllByName)(u,"movie",E)).then(D))}),[u]),Object(a.useEffect)((function(){return v(!1)}),[C]),Object(G.jsxs)(Xe,{children:[Object(G.jsxs)(w.HeaderBar,{theme:I,children:[Object(G.jsxs)("h2",{children:[t&&t.nickname?"".concat(t.nickname,"'s"):t&&t.name?"".concat(t.name,"'s"):"My"," Movies"]}),Object(G.jsx)(w.Spacer,{}),t?Object(G.jsx)(h.b,{to:"/profile",children:Object(G.jsx)(x.a,{color:"inherit",children:Object(G.jsx)("span",{className:"material-icons",children:"person"})})}):Object(G.jsx)(g.a,{onClick:k.appLogin,color:"inherit",children:"Login"})]}),Object(G.jsxs)($e,{children:[Object(G.jsx)(_e,{idList:C.map((function(e){return e.id})),add:function(e){return z.apply(this,arguments)}}),Object(G.jsx)(Qe,{movies:C,onSelect:L,onUpdate:U("tags")}),Object(G.jsx)(K,{loading:p}),Object(G.jsx)(le,{movie:P,onUpdate:U("rating",L),handleClose:function(){return L(null)},onDelete:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,W(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})]}),Object(G.jsx)(y.a,{ui:b,save:s,queue:r})]})},Xe=T.default.div(Ee||(Ee=Object(p.a)(["\n  background: ",';\n  height: 100%;\n  display: grid;\n  grid-template-rows: 5.2em 1fr;\n  grid-template-areas: \n  "header"\n  "main";\n  '])),I.light),$e=T.default.div(De||(De=Object(p.a)(["\n  background: ",";\n  display: flex;\n  flex-direction: column;\n  grid-area: main;\n"])),I.light),Ze=Object(u.newTheme)(I);var et=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(d.a)(c,2),p=s[0],O=s[1],x=Object(a.useState)(null),g=Object(d.a)(x,2),v=g[0],y=g[1],w=Object(a.useState)(),k=Object(d.a)(w,2),T=k[0],S=k[1],C=Object(a.useState)(!1),E=Object(d.a)(C,2),D=E[0],A=E[1];function N(){return N=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.save)(p);case 2:t=e.sent,O([]),y(t);case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.handleIncomingRedirect)();case 2:if(t=Object(j.getDefaultSession)(),!(n=t.info).isLoggedIn){e.next=7;break}r(n.webId),e.next=9;break;case 7:return e.next=9,Object(u.appLogin)();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){n&&Object(u.loadThing)(n,u.profileStruct).then((function(e){e instanceof Error?console.error(e):S(e)}))}),[n]),Object(a.useEffect)((function(){T&&Object(u.loadDataset)(Object(u.getDomain)(n)+"/movies").then(y)}),[T,n]),Object(G.jsx)(u.SaveState.Provider,{value:{queue:p,updateQueue:O,saveFromQ:function(){return N.apply(this,arguments)},dataset:v,setDataset:y},children:Object(G.jsx)(R.Provider,{value:Object(i.a)(Object(i.a)({},I),{},{mui:f}),children:Object(G.jsx)(m.a,{theme:Ze,children:Object(G.jsx)(u.Main,{children:Object(G.jsx)(h.a,{children:Object(G.jsxs)(b.c,{children:[Object(G.jsx)(b.a,{path:"/",element:Object(G.jsx)(Ke,{user:T})}),Object(G.jsx)(b.a,{path:"/profile",element:Object(G.jsx)(u.SaveState.Consumer,{children:function(e){return Object(G.jsx)(u.Profile,{profile:T,edit:D,toggleEdit:A,ui:f,theme:I,saveState:e,onChange:S})}})})]})})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(G.jsx)(et,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[524,1,2]]]);
//# sourceMappingURL=main.f190e826.chunk.js.map